{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-981ffc7a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Dashboard\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_5 = {\n  class: \"card\"\n};\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Income\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 0,\n  class: \"card-text\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"card-text\"\n};\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = {\n  class: \"card\"\n};\nconst _hoisted_12 = {\n  class: \"card-body\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Expenses\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"card-text\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"row\"\n};\nconst _hoisted_17 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_18 = {\n  class: \"card\"\n};\nconst _hoisted_19 = {\n  class: \"card-body\"\n};\nconst _hoisted_20 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Recent Transactions\", -1 /* HOISTED */));\nconst _hoisted_21 = {\n  class: \"list-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, $data.totalIncome !== null ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"Total: $\" + _toDisplayString($data.totalIncome), 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_9, \"Loading...\"))])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"p\", _hoisted_14, \"Total: $\" + _toDisplayString($options.totalExpenses), 1 /* TEXT */)])])])]), _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"ul\", _hoisted_21, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.recentTransactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: transaction.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(transaction.name), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(transaction.amount) + \" - \" + _toDisplayString(transaction.category), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$data","totalIncome","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","$options","totalExpenses","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_Fragment","_renderList","recentTransactions","transaction","key","id","name","amount","category"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\components\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Dashboard</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Income</h5>\r\n            <p class=\"card-text\" v-if=\"totalIncome !== null\">Total: ${{ totalIncome }}</p>\r\n            <p class=\"card-text\" v-else>Loading...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Expenses</h5>\r\n            <p class=\"card-text\">Total: ${{ totalExpenses }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Recent Transactions</h5>\r\n            <ul class=\"list-group\">\r\n              <li class=\"list-group-item\" v-for=\"transaction in recentTransactions\" :key=\"transaction.id\">\r\n                <strong>{{ transaction.name }}</strong> - {{ transaction.amount }} - {{ transaction.category }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, auth } from '@/firebase.js';\r\n\r\nexport default {\r\n  name: 'DashboardPage',\r\n  data() {\r\n    return {\r\n      expenses: [],\r\n      totalIncome: null\r\n    }\r\n  },\r\n  computed: {\r\n    totalExpenses() {\r\n      return this.expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0).toFixed(2)\r\n    },\r\n    recentTransactions() {\r\n      const transactions = [...this.expenses, ...this.income]\r\n      transactions.sort((a, b) => new Date(b.date) - new Date(a.date))\r\n      return transactions.slice(0, 5)\r\n    }\r\n  },\r\n  created() {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.fetchExpenses(user.uid)\r\n        this.fetchIncome(user.uid)\r\n      } else {\r\n        // Handle unauthenticated user\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    fetchExpenses(uid) {\r\n      db.collection('expenses').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const expenses = []\r\n          querySnapshot.forEach(doc => {\r\n            expenses.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.expenses = expenses\r\n        })\r\n        .catch(error => console.log(error))\r\n    },\r\n    fetchIncome(uid) {\r\n      db.collection('income').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          let totalIncome = 0;\r\n          querySnapshot.forEach(doc => {\r\n            totalIncome += parseFloat(doc.data().amount)\r\n          })\r\n          this.totalIncome = totalIncome.toFixed(2)\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-text {\r\n  font-size: 1.5rem;\r\n}\r\n</style>\r\n\r\n\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAAkB,YAAd,WAAS;;EACRD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAY,GAAC,QAAM;;;EAC1BA,KAAK,EAAC;;;;EACNA,KAAK,EAAC;;;EAIVA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;iEACpBC,mBAAA,CAAoC;EAAhCD,KAAK,EAAC;AAAY,GAAC,UAAQ;;EAC5BA,KAAK,EAAC;AAAW;iEAK5BC,mBAAA,CAAM;;EACDD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;iEACpBC,mBAAA,CAA+C;EAA3CD,KAAK,EAAC;AAAY,GAAC,qBAAmB;;EACtCA,KAAK,EAAC;AAAY;;uBA3BhCE,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJC,UAAkB,EAClBH,mBAAA,CAkBM,OAlBNI,UAkBM,GAjBJJ,mBAAA,CAQM,OARNK,UAQM,GAPJL,mBAAA,CAMM,OANNM,UAMM,GALJN,mBAAA,CAIM,OAJNO,UAIM,GAHJC,UAAkC,EACPC,KAAA,CAAAC,WAAW,a,cAAtCT,mBAAA,CAA8E,KAA9EU,UAA8E,EAA7B,UAAQ,GAAAC,gBAAA,CAAGH,KAAA,CAAAC,WAAW,qB,cACvET,mBAAA,CAA0C,KAA1CY,UAA0C,EAAd,YAAU,G,OAI5Cb,mBAAA,CAOM,OAPNc,WAOM,GANJd,mBAAA,CAKM,OALNe,WAKM,GAJJf,mBAAA,CAGM,OAHNgB,WAGM,GAFJC,WAAoC,EACpCjB,mBAAA,CAAoD,KAApDkB,WAAoD,EAA/B,UAAQ,GAAAN,gBAAA,CAAGO,QAAA,CAAAC,aAAa,iB,SAKrDC,WAAM,EACNrB,mBAAA,CAaM,OAbNsB,WAaM,GAZJtB,mBAAA,CAWM,OAXNuB,WAWM,GAVJvB,mBAAA,CASM,OATNwB,WASM,GARJxB,mBAAA,CAOM,OAPNyB,WAOM,GANJC,WAA+C,EAC/C1B,mBAAA,CAIK,MAJL2B,WAIK,I,kBAHH1B,mBAAA,CAEK2B,SAAA,QAAAC,WAAA,CAF6CV,QAAA,CAAAW,kBAAkB,EAAjCC,WAAW;yBAA9C9B,mBAAA,CAEK;MAFDF,KAAK,EAAC,iBAAiB;MAA4CiC,GAAG,EAAED,WAAW,CAACE;QACtFjC,mBAAA,CAAuC,gBAAAY,gBAAA,CAA5BmB,WAAW,CAACG,IAAI,kB,iBAAY,KAAG,GAAAtB,gBAAA,CAAGmB,WAAW,CAACI,MAAM,IAAG,KAAG,GAAAvB,gBAAA,CAAGmB,WAAW,CAACK,QAAQ,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}