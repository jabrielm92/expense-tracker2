{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-6 text-right\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Recent Transactions\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  class: \"row\"\n};\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = {\n  class: \"col-md-2 text-right\"\n};\nconst _hoisted_12 = {\n  class: \"col-md-2 text-right\"\n};\nconst _hoisted_13 = {\n  class: \"col-md-2 text-right\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, \"Total Income: $\" + _toDisplayString($options.totalIncome), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_router_link, {\n    to: \"/add-income\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Add Income\")]),\n    _: 1 /* STABLE */\n  })])]), _hoisted_5, _hoisted_6, $options.recentTransactions.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, \"No transactions to display.\")) : (_openBlock(), _createElementBlock(\"ul\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.recentTransactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: transaction.id\n    }, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(transaction.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, _toDisplayString(transaction.category), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, _toDisplayString(transaction.amount), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_13, _toDisplayString(transaction.date), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$options","totalIncome","_hoisted_4","_createVNode","_component_router_link","to","_hoisted_5","_hoisted_6","recentTransactions","length","_hoisted_7","_hoisted_8","_Fragment","_renderList","transaction","key","id","_hoisted_9","_hoisted_10","name","_hoisted_11","category","_hoisted_12","amount","_hoisted_13","date"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\components\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h3>Total Income: ${{ totalIncome }}</h3>\r\n      </div>\r\n      <div class=\"col-md-6 text-right\">\r\n        <router-link to=\"/add-income\" class=\"btn btn-primary\">Add Income</router-link>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <h4>Recent Transactions</h4>\r\n    <div v-if=\"recentTransactions.length === 0\">No transactions to display.</div>\r\n    <ul v-else>\r\n      <li v-for=\"transaction in recentTransactions\" :key=\"transaction.id\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-6\">{{ transaction.name }}</div>\r\n          <div class=\"col-md-2 text-right\">{{ transaction.category }}</div>\r\n          <div class=\"col-md-2 text-right\">{{ transaction.amount }}</div>\r\n          <div class=\"col-md-2 text-right\">{{ transaction.date }}</div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, auth } from '@/firebase.js';\r\nimport 'firebase/firestore'\r\n\r\nexport default {\r\n  name: 'DashboardPage',\r\n  data() {\r\n    return {\r\n      expenses: [],\r\n      income: []\r\n    }\r\n  },\r\n  computed: {\r\n    totalExpenses() {\r\n      return this.expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0).toFixed(2)\r\n    },\r\n    totalIncome() {\r\n      return this.income.reduce((total, income) => total + parseFloat(income.amount), 0).toFixed(2)\r\n    },\r\n    recentTransactions() {\r\n      const transactions = this.income\r\n      transactions.sort((a, b) => new Date(b.date) - new Date(a.date))\r\n      return transactions.slice(0, 5)\r\n    }\r\n  },\r\n  created() {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.fetchIncome(user.uid)\r\n      }\r\n    })\r\n    this.$on('income-added', (income) => {\r\n      this.income.push(income)\r\n    })\r\n  },\r\n  methods: {\r\n    fetchIncome(uid) {\r\n      db.collection('income').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const income = []\r\n          querySnapshot.forEach(doc => {\r\n            income.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.income = income\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EAGhBA,KAAK,EAAC;AAAqB;gCAIlCC,mBAAA,CAAI;gCACJA,mBAAA,CAA4B,YAAxB,qBAAmB;;;;;;;;EAIdD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EAChBA,KAAK,EAAC;AAAqB;;EAC3BA,KAAK,EAAC;AAAqB;;EAC3BA,KAAK,EAAC;AAAqB;;;uBAlBxCE,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJF,mBAAA,CAOM,OAPNG,UAOM,GANJH,mBAAA,CAEM,OAFNI,UAEM,GADJJ,mBAAA,CAAyC,YAArC,iBAAe,GAAAK,gBAAA,CAAGC,QAAA,CAAAC,WAAW,iB,GAEnCP,mBAAA,CAEM,OAFNQ,UAEM,GADJC,YAAA,CAA8EC,sBAAA;IAAjEC,EAAE,EAAC,aAAa;IAACZ,KAAK,EAAC;;sBAAkB,MAAU,C,iBAAV,YAAU,E;;UAGpEa,UAAI,EACJC,UAA4B,EACjBP,QAAA,CAAAQ,kBAAkB,CAACC,MAAM,U,cAApCd,mBAAA,CAA6E,OAAAe,UAAA,EAAjC,6BAA2B,M,cACvEf,mBAAA,CASK,MAAAgB,UAAA,I,kBARHhB,mBAAA,CAOKiB,SAAA,QAAAC,WAAA,CAPqBb,QAAA,CAAAQ,kBAAkB,EAAjCM,WAAW;yBAAtBnB,mBAAA,CAOK;MAP0CoB,GAAG,EAAED,WAAW,CAACE;QAC9DtB,mBAAA,CAKM,OALNuB,UAKM,GAJJvB,mBAAA,CAAkD,OAAlDwB,WAAkD,EAAAnB,gBAAA,CAAzBe,WAAW,CAACK,IAAI,kBACzCzB,mBAAA,CAAiE,OAAjE0B,WAAiE,EAAArB,gBAAA,CAA7Be,WAAW,CAACO,QAAQ,kBACxD3B,mBAAA,CAA+D,OAA/D4B,WAA+D,EAAAvB,gBAAA,CAA3Be,WAAW,CAACS,MAAM,kBACtD7B,mBAAA,CAA6D,OAA7D8B,WAA6D,EAAAzB,gBAAA,CAAzBe,WAAW,CAACW,IAAI,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}