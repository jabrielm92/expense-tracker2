{"ast":null,"code":"import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { auth } from '@/firebase.js';\nexport default {\n  data() {\n    return {\n      totalBudget: 0,\n      remainingBudget: 0,\n      spent: 0,\n      expenses: 0,\n      income: 0\n    };\n  },\n  created() {\n    this.fetchBudgetData();\n  },\n  methods: {\n    async fetchBudgetData() {\n      const userId = auth.currentUser.uid;\n      const budgetRef = firebase.firestore().collection('users').doc(userId).collection('budget');\n\n      // Get total budget\n      const totalBudgetDoc = await budgetRef.doc('totalBudget').get();\n      this.totalBudget = totalBudgetDoc.exists ? totalBudgetDoc.data().amount : 0;\n\n      // Get expenses\n      const expensesQuery = budgetRef.collection('expenses');\n      const expensesDocs = await expensesQuery.get();\n      this.expenses = expensesDocs.docs.reduce((total, doc) => total + doc.data().amount, 0);\n\n      // Get income\n      const incomeQuery = budgetRef.collection('income');\n      const incomeDocs = await incomeQuery.get();\n      this.income = incomeDocs.docs.reduce((total, doc) => total + doc.data().amount, 0);\n\n      // Calculate remaining budget and spent\n      this.remainingBudget = this.totalBudget - this.expenses;\n      this.spent = this.income - this.remainingBudget;\n    }\n  }\n};","map":{"version":3,"names":["firebase","auth","data","totalBudget","remainingBudget","spent","expenses","income","created","fetchBudgetData","methods","userId","currentUser","uid","budgetRef","firestore","collection","doc","totalBudgetDoc","get","exists","amount","expensesQuery","expensesDocs","docs","reduce","total","incomeQuery","incomeDocs"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\views\\ViewBudget.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mx-auto\">\r\n    <div class=\"text-center font-semibold text-lg mb-4\">\r\n      View Budget\r\n    </div>\r\n    <div class=\"flex justify-center\">\r\n      <div class=\"w-full md:w-1/2 lg:w-1/3\">\r\n        <div class=\"bg-white shadow-md rounded-lg p-4\">\r\n          <div class=\"flex justify-between mb-2\">\r\n            <div class=\"font-semibold\">Total Budget</div>\r\n            <div class=\"font-semibold\">{{ totalBudget }}</div>\r\n          </div>\r\n          <div class=\"flex justify-between mb-2\">\r\n            <div class=\"font-semibold\">Remaining Budget</div>\r\n            <div class=\"font-semibold\">{{ remainingBudget }}</div>\r\n          </div>\r\n          <div class=\"flex justify-between mb-2\">\r\n            <div class=\"font-semibold\">Spent</div>\r\n            <div class=\"font-semibold\">{{ spent }}</div>\r\n          </div>\r\n          <div class=\"flex justify-between mb-2\">\r\n            <div class=\"font-semibold\">Expenses</div>\r\n            <div class=\"font-semibold\">{{ expenses }}</div>\r\n          </div>\r\n          <div class=\"flex justify-between mb-2\">\r\n            <div class=\"font-semibold\">Income</div>\r\n            <div class=\"font-semibold\">{{ income }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport { auth } from '@/firebase.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      totalBudget: 0,\r\n      remainingBudget: 0,\r\n      spent: 0,\r\n      expenses: 0,\r\n      income: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchBudgetData();\r\n  },\r\n  methods: {\r\n    async fetchBudgetData() {\r\n      const userId = auth.currentUser.uid;\r\n      const budgetRef = firebase.firestore().collection('users').doc(userId).collection('budget');\r\n\r\n      // Get total budget\r\n      const totalBudgetDoc = await budgetRef.doc('totalBudget').get();\r\n      this.totalBudget = totalBudgetDoc.exists ? totalBudgetDoc.data().amount : 0;\r\n\r\n      // Get expenses\r\n      const expensesQuery = budgetRef.collection('expenses');\r\n      const expensesDocs = await expensesQuery.get();\r\n      this.expenses = expensesDocs.docs.reduce((total, doc) => total + doc.data().amount, 0);\r\n\r\n      // Get income\r\n      const incomeQuery = budgetRef.collection('income');\r\n      const incomeDocs = await incomeQuery.get();\r\n      this.income = incomeDocs.docs.reduce((total, doc) => total + doc.data().amount, 0);\r\n\r\n      // Calculate remaining budget and spent\r\n      this.remainingBudget = this.totalBudget - this.expenses;\r\n      this.spent = this.income - this.remainingBudget;\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"AAkCA,OAAOA,QAAO,MAAO,cAAc;AACnC,OAAO,oBAAoB;AAC3B,SAASC,IAAG,QAAS,eAAc;AAEnC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE,CAAC;MACdC,eAAe,EAAE,CAAC;MAClBC,KAAK,EAAE,CAAC;MACRC,QAAQ,EAAE,CAAC;MACXC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,eAAe,CAAC,CAAC;EACxB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACtB,MAAME,MAAK,GAAIV,IAAI,CAACW,WAAW,CAACC,GAAG;MACnC,MAAMC,SAAQ,GAAId,QAAQ,CAACe,SAAS,CAAC,CAAC,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACN,MAAM,CAAC,CAACK,UAAU,CAAC,QAAQ,CAAC;;MAE3F;MACA,MAAME,cAAa,GAAI,MAAMJ,SAAS,CAACG,GAAG,CAAC,aAAa,CAAC,CAACE,GAAG,CAAC,CAAC;MAC/D,IAAI,CAAChB,WAAU,GAAIe,cAAc,CAACE,MAAK,GAAIF,cAAc,CAAChB,IAAI,CAAC,CAAC,CAACmB,MAAK,GAAI,CAAC;;MAE3E;MACA,MAAMC,aAAY,GAAIR,SAAS,CAACE,UAAU,CAAC,UAAU,CAAC;MACtD,MAAMO,YAAW,GAAI,MAAMD,aAAa,CAACH,GAAG,CAAC,CAAC;MAC9C,IAAI,CAACb,QAAO,GAAIiB,YAAY,CAACC,IAAI,CAACC,MAAM,CAAC,CAACC,KAAK,EAAET,GAAG,KAAKS,KAAI,GAAIT,GAAG,CAACf,IAAI,CAAC,CAAC,CAACmB,MAAM,EAAE,CAAC,CAAC;;MAEtF;MACA,MAAMM,WAAU,GAAIb,SAAS,CAACE,UAAU,CAAC,QAAQ,CAAC;MAClD,MAAMY,UAAS,GAAI,MAAMD,WAAW,CAACR,GAAG,CAAC,CAAC;MAC1C,IAAI,CAACZ,MAAK,GAAIqB,UAAU,CAACJ,IAAI,CAACC,MAAM,CAAC,CAACC,KAAK,EAAET,GAAG,KAAKS,KAAI,GAAIT,GAAG,CAACf,IAAI,CAAC,CAAC,CAACmB,MAAM,EAAE,CAAC,CAAC;;MAElF;MACA,IAAI,CAACjB,eAAc,GAAI,IAAI,CAACD,WAAU,GAAI,IAAI,CAACG,QAAQ;MACvD,IAAI,CAACD,KAAI,GAAI,IAAI,CAACE,MAAK,GAAI,IAAI,CAACH,eAAe;IACjD;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}