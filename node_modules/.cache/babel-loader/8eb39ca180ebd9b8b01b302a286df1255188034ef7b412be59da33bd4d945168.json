{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { db, auth } from '@/firebase.js';\nimport ChartComponent from '@/components/ChartComponent.vue';\nimport * as d3 from 'd3';\nexport default {\n  name: 'DashboardPage',\n  components: {\n    ChartComponent\n  },\n  data() {\n    return {\n      currentUser: null,\n      incomeTotal: 0,\n      expenseTotal: 0,\n      transactions: []\n    };\n  },\n  created() {\n    this.currentUser = auth.currentUser;\n    if (this.currentUser) {\n      this.fetchIncomeTotal();\n      this.fetchExpenseTotal();\n      this.fetchAllTransactions();\n    }\n  },\n  methods: {\n    fetchIncomeTotal() {\n      db.collection('income').where('userId', '==', this.currentUser.uid).get().then(querySnapshot => {\n        let total = 0;\n        querySnapshot.forEach(doc => {\n          total += doc.data().amount;\n        });\n        this.incomeTotal = total;\n      }).catch(error => {\n        console.error('Error fetching income total:', error);\n      });\n    },\n    fetchExpenseTotal() {\n      db.collection('expenses').where('userId', '==', this.currentUser.uid).get().then(querySnapshot => {\n        let total = 0;\n        querySnapshot.forEach(doc => {\n          total += doc.data().amount;\n        });\n        this.expenseTotal = total;\n      }).catch(error => {\n        console.error('Error fetching expense total:', error);\n      });\n    },\n    fetchAllTransactions() {\n      db.collection('income').where('userId', '==', this.currentUser.uid).get().then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          let transaction = doc.data();\n          transaction.id = doc.id;\n          transaction.type = 'income';\n          this.transactions.push(transaction);\n        });\n      }).catch(error => {\n        console.error('Error fetching income transactions:', error);\n      });\n      db.collection('expenses').where('userId', '==', this.currentUser.uid).get().then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          let transaction = doc.data();\n          transaction.id = doc.id;\n          transaction.type = 'expense';\n          this.transactions.push(transaction);\n        });\n      }).catch(error => {\n        console.error('Error fetching expense transactions:', error);\n      });\n    }\n  },\n  computed: {\n    netTotal() {\n      return this.incomeTotal - this.expenseTotal;\n    },\n    incomePercentage() {\n      return this.incomeTotal / (this.incomeTotal + this.expenseTotal) * 100;\n    },\n    expensePercentage() {\n      return this.expenseTotal / (this.incomeTotal + this.expenseTotal) * 100;\n    },\n    chartData() {\n      let data = [{\n        label: 'Income',\n        value: this.incomeTotal\n      }, {\n        label: 'Expense',\n        value: this.expenseTotal\n      }];\n      return data;\n    }\n  }\n};","map":{"version":3,"names":["db","auth","ChartComponent","d3","name","components","data","currentUser","incomeTotal","expenseTotal","transactions","created","fetchIncomeTotal","fetchExpenseTotal","fetchAllTransactions","methods","collection","where","uid","get","then","querySnapshot","total","forEach","doc","amount","catch","error","console","transaction","id","type","push","computed","netTotal","incomePercentage","expensePercentage","chartData","label","value"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\components\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Dashboard</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"card-header\"> Total Income</div>\r\n            <div class=\"card-body\">\r\n            <h5 class=\"card-title\">${{incomeTotal}}</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"card-header\"> Total Expenses</div>\r\n            <div class=\"card-body\">\r\n            <h5 class=\"card-title\">${{expenseTotal}}</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card mb-3\">\r\n          <div class=\"card-header\"> Recent Transactions</div>\r\n            <div class=\"card-body\">\r\n              <table class=\"table\">\r\n               <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Amount</th>\r\n                  <th>Category</th>\r\n                  <th>Date</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody> </tbody>\r\n              <tr v-for=\"transaction in transactions\" :key=\"transaction.id\">\r\n                  <td>{{transaction.name}}</td>\r\n                  <td>{{transaction.amount}}</td>\r\n                  <td>{{transaction.category}}</td>\r\n                  <td>{{transaction.date}}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { db, auth } from '@/firebase.js';\r\nimport ChartComponent from '@/components/ChartComponent.vue';\r\nimport * as d3 from 'd3';\r\n\r\nexport default {\r\n  name: 'DashboardPage',\r\n  components: {\r\n    ChartComponent\r\n  },\r\n  data() {\r\n    return {\r\n      currentUser: null,\r\n      incomeTotal: 0,\r\n      expenseTotal: 0,\r\n      transactions: []\r\n    }\r\n  },\r\n  created() {\r\n    this.currentUser = auth.currentUser;\r\n    if (this.currentUser) {\r\n      this.fetchIncomeTotal();\r\n      this.fetchExpenseTotal();\r\n      this.fetchAllTransactions();\r\n    }\r\n  },\r\n  methods: {\r\n    fetchIncomeTotal() {\r\n      db.collection('income').where('userId', '==', this.currentUser.uid).get()\r\n        .then((querySnapshot) => {\r\n          let total = 0;\r\n          querySnapshot.forEach((doc) => {\r\n            total += doc.data().amount;\r\n          });\r\n          this.incomeTotal = total;\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching income total:', error);\r\n        });\r\n    },\r\n    fetchExpenseTotal() {\r\n      db.collection('expenses').where('userId', '==', this.currentUser.uid).get()\r\n        .then((querySnapshot) => {\r\n          let total = 0;\r\n          querySnapshot.forEach((doc) => {\r\n            total += doc.data().amount;\r\n          });\r\n          this.expenseTotal = total;\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching expense total:', error);\r\n        });\r\n    },\r\n    fetchAllTransactions() {\r\n      db.collection('income').where('userId', '==', this.currentUser.uid).get()\r\n        .then((querySnapshot) => {\r\n          querySnapshot.forEach((doc) => {\r\n            let transaction = doc.data();\r\n            transaction.id = doc.id;\r\n            transaction.type = 'income';\r\n            this.transactions.push(transaction);\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching income transactions:', error);\r\n        });\r\n        \r\n      db.collection('expenses').where('userId', '==', this.currentUser.uid).get()\r\n        .then((querySnapshot) => {\r\n          querySnapshot.forEach((doc) => {\r\n            let transaction = doc.data();\r\n            transaction.id = doc.id;\r\n            transaction.type = 'expense';\r\n            this.transactions.push(transaction);\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching expense transactions:', error);\r\n        });\r\n    }\r\n  },\r\n  computed: {\r\n    netTotal() {\r\n      return this.incomeTotal - this.expenseTotal;\r\n    },\r\n    incomePercentage() {\r\n      return (this.incomeTotal / (this.incomeTotal + this.expenseTotal)) * 100;\r\n    },\r\n    expensePercentage() {\r\n      return (this.expenseTotal / (this.incomeTotal + this.expenseTotal)) * 100;\r\n    },\r\n    chartData() {\r\n      let data = [\r\n        { label: 'Income', value: this.incomeTotal },\r\n        { label: 'Expense', value: this.expenseTotal }\r\n      ];\r\n      return data;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  padding: 2rem;\r\n}\r\n\r\n.card-header {\r\n  background-color: #333;\r\n  color: #fff;\r\n}\r\n\r\n.card-body {\r\n  background-color: #f2f2f2;\r\n}\r\n\r\n.table {\r\n  background-color: #fff;\r\n}\r\n\r\n.table td,\r\n.table th {\r\n  border: 1px solid #e6e6e6;\r\n}\r\n\r\n.table thead th {\r\n  background-color: #333;\r\n  color: #fff;\r\n}\r\n\r\n.card {\r\n  background-color: #fff;\r\n  border: none;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.card-title {\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.row {\r\n  margin: 0 -0.5rem;\r\n}\r\n\r\n.col-md-6 {\r\n  padding: 0 0.5rem;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}