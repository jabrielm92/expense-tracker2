{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Dashboard\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_5 = {\n  class: \"card\"\n};\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Income\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = {\n  class: \"card\"\n};\nconst _hoisted_12 = {\n  class: \"card-body\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Expenses\", -1 /* HOISTED */);\nconst _hoisted_14 = {\n  class: \"card-text\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_16 = {\n  class: \"row\"\n};\nconst _hoisted_17 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_18 = {\n  class: \"card\"\n};\nconst _hoisted_19 = {\n  class: \"card-body\"\n};\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"card-title\"\n}, \"Recent Transactions\", -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"list-group\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, $data.loading ? (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"Loading...\")) : (_openBlock(), _createElementBlock(\"p\", _hoisted_9, \"Total: $\" + _toDisplayString($options.totalIncome), 1 /* TEXT */))])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"p\", _hoisted_14, \"Total: $\" + _toDisplayString($options.totalExpenses), 1 /* TEXT */)])])])]), _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"ul\", _hoisted_21, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.recentTransactions, transaction => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"list-group-item\",\n      key: transaction.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(transaction.name), 1 /* TEXT */), _createTextVNode(\" - \" + _toDisplayString(transaction.amount) + \" - \" + _toDisplayString(transaction.category), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","$data","loading","_hoisted_8","_hoisted_9","_toDisplayString","$options","totalIncome","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","totalExpenses","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_Fragment","_renderList","recentTransactions","transaction","key","id","name","amount","category"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\components\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h1>Dashboard</h1>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Income</h5>\r\n            <p v-if=\"loading\">Loading...</p>\r\n            <p v-else>Total: ${{ totalIncome }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Expenses</h5>\r\n            <p class=\"card-text\">Total: ${{ totalExpenses }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Recent Transactions</h5>\r\n            <ul class=\"list-group\">\r\n              <li class=\"list-group-item\" v-for=\"transaction in recentTransactions\" :key=\"transaction.id\">\r\n                <strong>{{ transaction.name }}</strong> - {{ transaction.amount }} - {{ transaction.category }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, auth } from '@/firebase.js';\r\n\r\nexport default {\r\n  name: 'DashboardPage',\r\n  data() {\r\n    return {\r\n      expenses: [],\r\n      income: [],\r\n      loading: true\r\n    }\r\n  },\r\n  computed: {\r\n    totalExpenses() {\r\n      return this.expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0).toFixed(2)\r\n    },\r\n    totalIncome() {\r\n  return this.income.reduce((total, income) => total + parseFloat(income.amount), 0).toFixed(2);\r\n    },\r\n    recentTransactions() {\r\n      const transactions = [...this.expenses, ...this.income]\r\n      transactions.sort((a, b) => new Date(b.date) - new Date(a.date))\r\n      return transactions.slice(0, 5)\r\n    }\r\n  },\r\n  created() {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.fetchExpenses(user.uid)\r\n        this.fetchIncome(user.uid)\r\n      } else {\r\n        // Handle unauthenticated user\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    fetchExpenses(uid) {\r\n      db.collection('expenses').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const expenses = []\r\n          querySnapshot.forEach(doc => {\r\n            expenses.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.expenses = expenses\r\n        })\r\n        .catch(error => console.log(error))\r\n    },\r\n    fetchIncome(uid) {\r\n      db.collection('income').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const income = []\r\n          querySnapshot.forEach(doc => {\r\n            income.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.income = income\r\n          this.loading = false\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* Add any custom styles here */\r\n</style>\r\n\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAkB,YAAd,WAAS;;EACRD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAkC;EAA9BD,KAAK,EAAC;AAAY,GAAC,QAAM;;;;;;;;EAM9BA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;iCACpBC,mBAAA,CAAoC;EAAhCD,KAAK,EAAC;AAAY,GAAC,UAAQ;;EAC5BA,KAAK,EAAC;AAAW;iCAK5BC,mBAAA,CAAM;;EACDD,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;iCACpBC,mBAAA,CAA+C;EAA3CD,KAAK,EAAC;AAAY,GAAC,qBAAmB;;EACtCA,KAAK,EAAC;AAAY;;uBA3BhCE,mBAAA,CAoCM,OApCNC,UAoCM,GAnCJC,UAAkB,EAClBH,mBAAA,CAkBM,OAlBNI,UAkBM,GAjBJJ,mBAAA,CAQM,OARNK,UAQM,GAPJL,mBAAA,CAMM,OANNM,UAMM,GALJN,mBAAA,CAIM,OAJNO,UAIM,GAHJC,UAAkC,EACzBC,KAAA,CAAAC,OAAO,I,cAAhBT,mBAAA,CAAgC,KAAAU,UAAA,EAAd,YAAU,M,cAC5BV,mBAAA,CAAuC,KAAAW,UAAA,EAA7B,UAAQ,GAAAC,gBAAA,CAAGC,QAAA,CAAAC,WAAW,kB,OAItCf,mBAAA,CAOM,OAPNgB,WAOM,GANJhB,mBAAA,CAKM,OALNiB,WAKM,GAJJjB,mBAAA,CAGM,OAHNkB,WAGM,GAFJC,WAAoC,EACpCnB,mBAAA,CAAoD,KAApDoB,WAAoD,EAA/B,UAAQ,GAAAP,gBAAA,CAAGC,QAAA,CAAAO,aAAa,iB,SAKrDC,WAAM,EACNtB,mBAAA,CAaM,OAbNuB,WAaM,GAZJvB,mBAAA,CAWM,OAXNwB,WAWM,GAVJxB,mBAAA,CASM,OATNyB,WASM,GARJzB,mBAAA,CAOM,OAPN0B,WAOM,GANJC,WAA+C,EAC/C3B,mBAAA,CAIK,MAJL4B,WAIK,I,kBAHH3B,mBAAA,CAEK4B,SAAA,QAAAC,WAAA,CAF6ChB,QAAA,CAAAiB,kBAAkB,EAAjCC,WAAW;yBAA9C/B,mBAAA,CAEK;MAFDF,KAAK,EAAC,iBAAiB;MAA4CkC,GAAG,EAAED,WAAW,CAACE;QACtFlC,mBAAA,CAAuC,gBAAAa,gBAAA,CAA5BmB,WAAW,CAACG,IAAI,kB,iBAAY,KAAG,GAAAtB,gBAAA,CAAGmB,WAAW,CAACI,MAAM,IAAG,KAAG,GAAAvB,gBAAA,CAAGmB,WAAW,CAACK,QAAQ,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}