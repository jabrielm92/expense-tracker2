{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { db, auth } from '@/firebase.js';\nimport 'firebase/firestore';\nexport default {\n  name: 'DashboardPage',\n  data() {\n    return {\n      expenses: [],\n      income: []\n    };\n  },\n  computed: {\n    totalExpenses() {\n      return this.expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0).toFixed(2);\n    },\n    totalIncome() {\n      return this.income.reduce((total, income) => total + parseFloat(income.amount), 0).toFixed(2);\n    },\n    recentTransactions() {\n      const transactions = [...this.expenses, ...this.income];\n      transactions.sort((a, b) => new Date(b.date) - new Date(a.date));\n      return transactions.slice(0, 5);\n    }\n  },\n  created() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        this.fetchExpenses(user.uid);\n        this.fetchIncome(user.uid);\n      }\n    });\n  },\n  methods: {\n    fetchExpenses(uid) {\n      db.collection('expenses').where('user_id', '==', uid).get().then(querySnapshot => {\n        const expenses = [];\n        querySnapshot.forEach(doc => {\n          expenses.push({\n            id: doc.id,\n            ...doc.data()\n          });\n        });\n        this.expenses = expenses;\n      }).catch(error => console.log(error));\n    },\n    fetchIncome(uid) {\n      db.collection('income').where('user_id', '==', uid).get().then(querySnapshot => {\n        const income = [];\n        querySnapshot.forEach(doc => {\n          income.push({\n            id: doc.id,\n            ...doc.data()\n          });\n        });\n        this.income = income;\n      }).catch(error => console.log(error));\n    }\n  }\n};","map":{"version":3,"names":["db","auth","name","data","expenses","income","computed","totalExpenses","reduce","total","expense","parseFloat","amount","toFixed","totalIncome","recentTransactions","transactions","sort","a","b","Date","date","slice","created","onAuthStateChanged","user","fetchExpenses","uid","fetchIncome","methods","collection","where","get","then","querySnapshot","forEach","doc","push","id","catch","error","console","log"],"sources":["C:\\Users\\jabri\\Desktop\\expense-tracker2\\src\\components\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-page\">\r\n    <h1>Welcome to your Dashboard, {{ $store.state.user.displayName }}!</h1>\r\n    <div class=\"dashboard-card\">\r\n      <h2>Total Income</h2>\r\n      <p>{{ totalIncome }}</p>\r\n    </div>\r\n    <div class=\"dashboard-card\">\r\n      <h2>Total Expenses</h2>\r\n      <p>{{ totalExpenses }}</p>\r\n    </div>\r\n    <div class=\"dashboard-card\">\r\n      <h2>Recent Transactions</h2>\r\n      <ul>\r\n        <li v-for=\"transaction in recentTransactions\" :key=\"transaction.id\">\r\n          {{ transaction.name }} - {{ transaction.amount }} - {{ transaction.date }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, auth } from '@/firebase.js';\r\nimport 'firebase/firestore'\r\n\r\nexport default {\r\n  name: 'DashboardPage',\r\n  data() {\r\n    return {\r\n      expenses: [],\r\n      income: []\r\n    }\r\n  },\r\n  computed: {\r\n    totalExpenses() {\r\n      return this.expenses.reduce((total, expense) => total + parseFloat(expense.amount), 0).toFixed(2)\r\n    },\r\n    totalIncome() {\r\n      return this.income.reduce((total, income) => total + parseFloat(income.amount), 0).toFixed(2)\r\n    },\r\n    recentTransactions() {\r\n      const transactions = [...this.expenses, ...this.income]\r\n      transactions.sort((a, b) => new Date(b.date) - new Date(a.date))\r\n      return transactions.slice(0, 5)\r\n    }\r\n  },\r\n  created() {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.fetchExpenses(user.uid)\r\n        this.fetchIncome(user.uid)\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    fetchExpenses(uid) {\r\n      db.collection('expenses').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const expenses = []\r\n          querySnapshot.forEach(doc => {\r\n            expenses.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.expenses = expenses\r\n        })\r\n        .catch(error => console.log(error))\r\n    },\r\n    fetchIncome(uid) {\r\n      db.collection('income').where('user_id', '==', uid).get()\r\n        .then(querySnapshot => {\r\n          const income = []\r\n          querySnapshot.forEach(doc => {\r\n            income.push({ id: doc.id, ...doc.data() })\r\n          })\r\n          this.income = income\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.dashboard {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-gap: 30px;\r\n}\r\n\r\n.card {\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card h2 {\r\n  margin-top: 0;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.card p {\r\n  margin-bottom: 0;\r\n  font-size: 18px;\r\n}\r\n\r\n.card .total {\r\n  font-size: 36px;\r\n  font-weight: bold;\r\n  color: #00bfa5;\r\n}\r\n\r\n.card .subheader {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card .subheader p {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.card .subheader button {\r\n  background-color: #00bfa5;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s ease-in-out;\r\n}\r\n\r\n.card .subheader button:hover {\r\n  background-color: #009d8a;\r\n}\r\n\r\n.transactions {\r\n  margin-top: 20px;\r\n}\r\n\r\n.transactions h3 {\r\n  margin-bottom: 20px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.transactions table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.transactions th,\r\n.transactions td {\r\n  padding: 10px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.transactions th {\r\n  font-weight: bold;\r\n  color: #333;\r\n  background-color: #f8f8f8;\r\n}\r\n\r\n.transactions tr:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.transactions tr:first-child:hover {\r\n  background-color: transparent;\r\n}\r\n\r\n.transactions td:last-child {\r\n  text-align: right;\r\n}\r\n\r\n.transactions td.total {\r\n  font-weight: bold;\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n  .dashboard {\r\n    display: block;\r\n  }\r\n\r\n  .card {\r\n    margin-bottom: 30px;\r\n  }\r\n}\r\n</style>\r\n\r\n"],"mappings":";AAuBA,SAASA,EAAE,EAAEC,IAAG,QAAS,eAAe;AACxC,OAAO,oBAAmB;AAE1B,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE;IACV;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACH,QAAQ,CAACI,MAAM,CAAC,CAACC,KAAK,EAAEC,OAAO,KAAKD,KAAI,GAAIE,UAAU,CAACD,OAAO,CAACE,MAAM,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IAClG,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACT,MAAM,CAACG,MAAM,CAAC,CAACC,KAAK,EAAEJ,MAAM,KAAKI,KAAI,GAAIE,UAAU,CAACN,MAAM,CAACO,MAAM,CAAC,EAAE,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;IAC9F,CAAC;IACDE,kBAAkBA,CAAA,EAAG;MACnB,MAAMC,YAAW,GAAI,CAAC,GAAG,IAAI,CAACZ,QAAQ,EAAE,GAAG,IAAI,CAACC,MAAM;MACtDW,YAAY,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,IAAI,IAAI,IAAID,IAAI,CAACF,CAAC,CAACG,IAAI,CAAC;MAC/D,OAAOL,YAAY,CAACM,KAAK,CAAC,CAAC,EAAE,CAAC;IAChC;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRtB,IAAI,CAACuB,kBAAkB,CAACC,IAAG,IAAK;MAC9B,IAAIA,IAAI,EAAE;QACR,IAAI,CAACC,aAAa,CAACD,IAAI,CAACE,GAAG;QAC3B,IAAI,CAACC,WAAW,CAACH,IAAI,CAACE,GAAG;MAC3B;IACF,CAAC;EACH,CAAC;EACDE,OAAO,EAAE;IACPH,aAAaA,CAACC,GAAG,EAAE;MACjB3B,EAAE,CAAC8B,UAAU,CAAC,UAAU,CAAC,CAACC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAEJ,GAAG,CAAC,CAACK,GAAG,CAAC,EACvDC,IAAI,CAACC,aAAY,IAAK;QACrB,MAAM9B,QAAO,GAAI,EAAC;QAClB8B,aAAa,CAACC,OAAO,CAACC,GAAE,IAAK;UAC3BhC,QAAQ,CAACiC,IAAI,CAAC;YAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;YAAE,GAAGF,GAAG,CAACjC,IAAI,CAAC;UAAE,CAAC;QAC7C,CAAC;QACD,IAAI,CAACC,QAAO,GAAIA,QAAO;MACzB,CAAC,EACAmC,KAAK,CAACC,KAAI,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtC,CAAC;IACDZ,WAAWA,CAACD,GAAG,EAAE;MACf3B,EAAE,CAAC8B,UAAU,CAAC,QAAQ,CAAC,CAACC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAEJ,GAAG,CAAC,CAACK,GAAG,CAAC,EACrDC,IAAI,CAACC,aAAY,IAAK;QACrB,MAAM7B,MAAK,GAAI,EAAC;QAChB6B,aAAa,CAACC,OAAO,CAACC,GAAE,IAAK;UAC3B/B,MAAM,CAACgC,IAAI,CAAC;YAAEC,EAAE,EAAEF,GAAG,CAACE,EAAE;YAAE,GAAGF,GAAG,CAACjC,IAAI,CAAC;UAAE,CAAC;QAC3C,CAAC;QACD,IAAI,CAACE,MAAK,GAAIA,MAAK;MACrB,CAAC,EACAkC,KAAK,CAACC,KAAI,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtC;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}